<!--index.wxml-->
<view class="container">
  <view class="swiper-tab">
    <view class="swiper-tab-item {{currentTab==0?'active':''}}" data-current="0" bindtap="clickTab">精华</view>
    <view class="swiper-tab-item {{currentTab==1?'active':''}}" data-current="1" bindtap="clickTab">分享</view>
    <view class="swiper-tab-item {{currentTab==2?'active':''}}" data-current="2" bindtap="clickTab">招聘</view>
</view>

<swiper current="{{currentTab}}" duration="300" style="height:{{height}}px" bindchange="swiperTab">
    <swiper-item >
      <scroll-view 
        class='wrap'
        scroll-y="true" 
        enable-back-to-top="true"
        style="height:{{ height }}px"
        data-tab='good' 
        bindscrolltolower="loadMore" 
        bindscrolltoupper="refesh">
        <view class="topic-list-item" 
          wx:for="{{ goodList }}" 
          wx:key=" {{ item.index }}"
          wx:for-item="item" 
          data-id="{{ item.id }}"
          bindtap="bindViewTap">
          <image src="{{ item.author.avatar_url }}"></image>
          <view class="text">
            <view class='title'> 标题:{{item.title}}</view>
            <view class='author'> 
              作者:{{item.author.loginname}}
            </view>
          </view>
        </view>
        <view class="footer">
          <view wx:if="{{hasMore}}" class='footer-loading'>
            <icon type="waiting" size="25" />
            <text>玩命加载中...</text>
          </view>
          <view class='noMore' wx:if="noMore">
            <text>没有更多内容</text>
          </view>
        </view>
      </scroll-view>
    </swiper-item>
    <swiper-item>
      <scroll-view 
        class='wrap'
        scroll-y="true" 
        enable-back-to-top="true"
        style="height:{{ height }}px" 
        bindscrolltolower="loadMore('share')" 
        bindscrolltoupper="refesh">
        <view class="topic-list-item" 
          wx:for="{{ shareList }}" 
          wx:key=" {{ item.index }}"
          wx:for-item="item" 
          data-id="{{ item.id }}"
          bindtap="bindViewTap">
          <image src="{{ item.author.avatar_url }}"></image>
          <view class="text">
            <view class='title'> 标题:{{item.title}}</view>
            <view class='author'> 
              作者:{{item.author.loginname}}
            </view>
          </view>
        </view>
        <view class="footer">
          <view wx:if="{{hasMore}}" class='footer-loading'>
            <icon type="waiting" size="25" />
            <text>玩命加载中...</text>
          </view>
          <view class='noMore' wx:if="noMore">
            <text>没有更多内容</text>
          </view>
        </view>
      </scroll-view>
    </swiper-item>
    <swiper-item>
      <scroll-view 
        scroll-y="true" 
        enable-back-to-top="true"
        style="height:{{ height }}px" 
        bindscrolltolower="loadMore('job')" 
        bindscrolltoupper="refesh">
        <view class="topic-list-item" 
          wx:for="{{ jobList }}" 
          wx:key=" {{ item.index }}"
          wx:for-item="item" 
          data-id="{{ item.id }}"
          bindtap="bindViewTap">
          <image src="{{ item.author.avatar_url }}"></image>
          <view class="text">
            <view class='title'> 标题:{{item.title}}</view>
            <view class='author'> 
              作者:{{item.author.loginname}}
            </view>
          </view>
        </view>
        <view class="footer">
          <view wx:if="{{hasMore}}" class='footer-loading'>
            <icon type="waiting" size="25" />
            <text>玩命加载中...</text>
          </view>
          <view class='noMore' wx:if="noMore">
            <text>没有更多内容</text>
          </view>
        </view>
      </scroll-view>
    </swiper-item>
</swiper>

</view>